import fs from 'node:fs';
import path from 'node:path';

const root = process.cwd();
const wasmPath = path.join(root, 'packages', 'topoloom', 'src', 'planarity', 'wasm', 'planarity.wasm');
const outPath = path.join(root, 'packages', 'topoloom', 'src', 'planarity', 'wasm-data.ts');

const data = fs.readFileSync(wasmPath);
const base64 = data.toString('base64');

const content = `// Auto-generated by scripts/embed-planarity-wasm.mjs
export const PLANARITY_WASM_BASE64 = '${base64}';
`;

fs.writeFileSync(outPath, content);
console.log(`Wrote ${outPath} (${data.length} bytes)`);
